import{d as v,_ as h,o as a,c as d,e as o,t as i,F as _,i as y,j as r,u as C,k as P,r as U,h as l,l as A,v as K,m as D,p as Y,g as S}from"./index-3f89deae.js";const $=v({props:{submission:{type:Object,required:!0}}}),I={class:"mygrid-item opacity-75 p-7 rounded-xl shadow-md w-full md:w-1/3 lg:w-1/4 m-4"},T={class:"p-2"},R={class:"font-semibold"};function N(e,t,m,g,c,p){return a(),d("div",I,[o("div",T,[o("div",null," Submitted by "+i(e.submission.user_name),1),o("div",null," on "+i(e.submission.formatted_date)+" at "+i(e.submission.formatted_time),1)]),(a(!0),d(_,null,y(e.submission.fields,f=>(a(),d("div",{key:f.id,class:"p-2"},[o("div",R,i(f.title),1),o("div",null,i(f.value),1)]))),128))])}const j=h($,[["render",N]]),q=v({components:{SubmissionCard:j},setup(){const e=r("forminder"),t=r(!0),m=r("csv"),g=r([]),c=r(1);r(10);const p=r(1);C().query.formId;const s=r(),w=()=>{const n=m.value==="csv"?"/export-submissions-csv":"/export-submissions-xlsx";window.location.href=n},b=async()=>{t.value=!1;const n={form_name:"Dogs form",page:1,per_page:10,submissions:[{created_at:"2023-04-03T10:35:42.103000",fields:[{title:"Are you bringing your dog to work tomorrow?",value:"Yes"},{title:"Dog name",value:"Doggie"},{title:"Is your dog friendly with other dogs?",value:"Yes"}],form_id:"642aabdb1ef24e18c6d95fab",formatted_date:"Apr. 3, 2023",formatted_time:"10:35",id:"642aabfe7af57bab8b74f38d",user_id:"U02RCUYKPK4",user_name:"sophie.fogel"},{created_at:"2023-04-17T18:54:31.048000",fields:[{title:"Dog name",value:"sfsdf"},{title:"Is your dog friendly with other dogs?",value:"fhgfgh"},{title:"Are you bringing your dog to work tomorrow?",value:"No"}],form_id:"642aabdb1ef24e18c6d95fab",formatted_date:"Apr. 17, 2023",formatted_time:"18:54",id:"643d6bb7f02800015e0d3c44",user_id:"U02RCUYKPK4",user_name:"sophie.fogel"},{created_at:"2023-04-17T18:54:45.590000",fields:[{title:"Dog name",value:"ertert"},{title:"Is your dog friendly with other dogs?",value:"asdasd"},{title:"Are you bringing your dog to work tomorrow?",value:"No"}],form_id:"642aabdb1ef24e18c6d95fab",formatted_date:"Apr. 17, 2023",formatted_time:"18:54",id:"643d6bc5f02800015e0d3c45",user_id:"U02RCUYKPK4",user_name:"sophie.fogel"},{created_at:"2023-04-17T18:55:18.489000",fields:[{title:"Dog name",value:"etert"},{title:"Is your dog friendly with other dogs?",value:"fgdgd"},{title:"Are you bringing your dog to work tomorrow?",value:"Yes"}],form_id:"642aabdb1ef24e18c6d95fab",formatted_date:"Apr. 17, 2023",formatted_time:"18:55",id:"643d6be6f02800015e0d3c46",user_id:"U02RCUYKPK4",user_name:"sophie.fogel"},{created_at:"2023-04-17T18:55:31.831000",fields:[{title:"Dog name",value:"ertret"},{title:"Is your dog friendly with other dogs?",value:"qw"},{title:"Are you bringing your dog to work tomorrow?",value:"Yes"}],form_id:"642aabdb1ef24e18c6d95fab",formatted_date:"Apr. 17, 2023",formatted_time:"18:55",id:"643d6bf3f02800015e0d3c47",user_id:"U02RCUYKPK4",user_name:"sophie.fogel"},{created_at:"2023-04-17T18:55:48.752000",fields:[{title:"Dog name",value:"yrtyrt"},{title:"Is your dog friendly with other dogs?",value:"ghjghj"},{title:"Are you bringing your dog to work tomorrow?",value:"No"}],form_id:"642aabdb1ef24e18c6d95fab",formatted_date:"Apr. 17, 2023",formatted_time:"18:55",id:"643d6c04f02800015e0d3c48",user_id:"U02RCUYKPK4",user_name:"sophie.fogel"},{created_at:"2023-04-17T18:56:00.230000",fields:[{title:"Dog name",value:"qweqwe"},{title:"Is your dog friendly with other dogs?",value:"fghfgh"},{title:"Are you bringing your dog to work tomorrow?",value:"Yes"}],form_id:"642aabdb1ef24e18c6d95fab",formatted_date:"Apr. 17, 2023",formatted_time:"18:56",id:"643d6c10f02800015e0d3c49",user_id:"U02RCUYKPK4",user_name:"sophie.fogel"},{created_at:"2023-04-17T18:56:20.480000",fields:[{title:"Dog name",value:"trty"},{title:"Is your dog friendly with other dogs?",value:"fghfgh"},{title:"Are you bringing your dog to work tomorrow?",value:"Yes"}],form_id:"642aabdb1ef24e18c6d95fab",formatted_date:"Apr. 17, 2023",formatted_time:"18:56",id:"643d6c24f02800015e0d3c4a",user_id:"U02RCUYKPK4",user_name:"sophie.fogel"},{created_at:"2023-04-17T18:56:29.305000",fields:[{title:"Dog name",value:"wrwer"},{title:"Is your dog friendly with other dogs?",value:"fghfgh"},{title:"Are you bringing your dog to work tomorrow?",value:"Yes"}],form_id:"642aabdb1ef24e18c6d95fab",formatted_date:"Apr. 17, 2023",formatted_time:"18:56",id:"643d6c2df02800015e0d3c4b",user_id:"U02RCUYKPK4",user_name:"sophie.fogel"},{created_at:"2023-04-17T18:56:39.064000",fields:[{title:"Dog name",value:"qweqwe"},{title:"Is your dog friendly with other dogs?",value:"ertret"},{title:"Are you bringing your dog to work tomorrow?",value:"Yes"}],form_id:"642aabdb1ef24e18c6d95fab",formatted_date:"Apr. 17, 2023",formatted_time:"18:56",id:"643d6c37f02800015e0d3c4c",user_id:"U02RCUYKPK4",user_name:"sophie.fogel"}],total:11};s.value=n.form_name,g.value=n.submissions,p.value=n.total},k=n=>{c.value=n,b()};return P(()=>{b()}),{loading:t,formName:s,slashCommand:e,exportType:m,submissions:g,downloadData:w,page:c,lastPage:p,changePage:k}}});const u=e=>(Y("data-v-5cdb6a7f"),e=e(),S(),e),V={key:0,class:"w-full text-3xl text-center p-5"},B={class:"text-3xl"},F={key:1,class:"loading-indicator"},L={class:"flex justify-around"},E=u(()=>o("span",null," Export as ",-1)),M=u(()=>o("option",{value:"csv"},"CSV",-1)),O=u(()=>o("option",{value:"xlsx"},"XLSX",-1)),X=[M,O],x={class:"flex flex-wrap justify-center place-content-evenly"},z={key:0,class:"mygrid-item opacity-75 p-7 rounded-xl shadow-md w-full md:w-1/3 lg:w-1/4 p-4"},G=u(()=>o("div",{class:"p-1"}," There are no submissions for this form. ",-1)),H=u(()=>o("div",{class:"p-1"}," Schedule the form in slack by running: ",-1)),J={class:"p-1 code"},Q=u(()=>o("div",{class:"p-1"},' and then pressing "Schedule". ',-1)),W=u(()=>o("div",{class:"p-1"},' Or fill it without scheduling by pressing "Fill now". ',-1)),Z={class:"flex justify-center"},ee={class:"m-3"},oe={class:"p-3"};function te(e,t,m,g,c,p){const f=U("SubmissionCard");return a(),d(_,null,[e.loading?l("",!0):(a(),d("div",V,[o("span",B,i(e.formName)+" - Submissions",1)])),e.loading?(a(),d("div",F," Loading... ")):l("",!0),o("div",null,[o("div",L,[o("div",null,[E,A(o("select",{name:"export",id:"export",class:"p-2 m-1 rounded-md shadow","onUpdate:modelValue":t[0]||(t[0]=s=>e.exportType=s)},X,512),[[K,e.exportType]]),o("button",{id:"download-btn",class:"bg-greenish p-2 m-1 rounded",onClick:t[1]||(t[1]=(...s)=>e.downloadData&&e.downloadData(...s))}," Download ")])]),o("div",x,[(a(!0),d(_,null,y(e.submissions,s=>(a(),D(f,{key:s.id,submission:s},null,8,["submission"]))),128)),e.submissions.length?l("",!0):(a(),d("div",z,[G,H,o("div",J," /"+i(e.slashCommand)+" list ",1),Q,W]))]),o("div",Z,[o("div",ee,[e.page>1?(a(),d("button",{key:0,onClick:t[2]||(t[2]=s=>e.changePage(1)),class:"p-3"}," First ")):l("",!0),e.page>1?(a(),d("button",{key:1,onClick:t[3]||(t[3]=s=>e.changePage(e.page-1)),class:"p-3"}," Previous ")):l("",!0),o("span",oe," Page "+i(e.page)+" of "+i(e.lastPage),1),e.page<e.lastPage?(a(),d("button",{key:2,onClick:t[4]||(t[4]=s=>e.changePage(e.page+1)),class:"p-3"}," Next ")):l("",!0),e.page<e.lastPage?(a(),d("button",{key:3,onClick:t[5]||(t[5]=s=>e.changePage(e.lastPage)),class:"p-3"}," Last ")):l("",!0)])])])],64)}const ae=h(q,[["render",te],["__scopeId","data-v-5cdb6a7f"]]);export{ae as default};
